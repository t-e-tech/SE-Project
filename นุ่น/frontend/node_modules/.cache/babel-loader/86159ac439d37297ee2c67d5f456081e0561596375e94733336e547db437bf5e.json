{"ast":null,"code":"import * as React from 'react';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport { unstable_useControlled as useControlled } from '@mui/utils';\nlet warnedOnceNotValidView = false;\nexport function useViews(_ref) {\n  let {\n    onChange,\n    onViewChange,\n    openTo,\n    view: inView,\n    views,\n    autoFocus,\n    focusedView: inFocusedView,\n    onFocusedViewChange\n  } = _ref;\n  var _views, _views2;\n  if (process.env.NODE_ENV !== 'production') {\n    if (!warnedOnceNotValidView) {\n      if (inView != null && !views.includes(inView)) {\n        console.warn(`MUI: \\`view=\"${inView}\"\\` is not a valid prop.`, `It must be an element of \\`views=[\"${views.join('\", \"')}\"]\\`.`);\n        warnedOnceNotValidView = true;\n      }\n      if (inView == null && openTo != null && !views.includes(openTo)) {\n        console.warn(`MUI: \\`openTo=\"${openTo}\"\\` is not a valid prop.`, `It must be an element of \\`views=[\"${views.join('\", \"')}\"]\\`.`);\n        warnedOnceNotValidView = true;\n      }\n    }\n  }\n  const previousOpenTo = React.useRef(openTo);\n  const previousViews = React.useRef(views);\n  const defaultView = React.useRef(views.includes(openTo) ? openTo : views[0]);\n  const [view, setView] = useControlled({\n    name: 'useViews',\n    state: 'view',\n    controlled: inView,\n    default: defaultView.current\n  });\n  const defaultFocusedView = React.useRef(autoFocus ? view : null);\n  const [focusedView, setFocusedView] = useControlled({\n    name: 'useViews',\n    state: 'focusedView',\n    controlled: inFocusedView,\n    default: defaultFocusedView.current\n  });\n  React.useEffect(() => {\n    // Update the current view when `openTo` or `views` props change\n    if (previousOpenTo.current && previousOpenTo.current !== openTo || previousViews.current && previousViews.current.some(previousView => !views.includes(previousView))) {\n      setView(views.includes(openTo) ? openTo : views[0]);\n    }\n  }, [openTo, setView, view, views]);\n  const viewIndex = views.indexOf(view);\n  const previousView = (_views = views[viewIndex - 1]) != null ? _views : null;\n  const nextView = (_views2 = views[viewIndex + 1]) != null ? _views2 : null;\n  const handleChangeView = useEventCallback(newView => {\n    setView(newView);\n    if (onViewChange) {\n      onViewChange(newView);\n    }\n  });\n  const goToNextView = useEventCallback(() => {\n    if (nextView) {\n      handleChangeView(nextView);\n    }\n  });\n  const setValueAndGoToNextView = useEventCallback((value, currentViewSelectionState) => {\n    const isSelectionFinishedOnCurrentView = currentViewSelectionState === 'finish';\n    const globalSelectionState = isSelectionFinishedOnCurrentView && Boolean(nextView) ? 'partial' : currentViewSelectionState;\n    onChange(value, globalSelectionState);\n    if (isSelectionFinishedOnCurrentView) {\n      goToNextView();\n    }\n  });\n  const handleFocusedViewChange = useEventCallback((viewToFocus, hasFocus) => {\n    if (hasFocus) {\n      // Focus event\n      setFocusedView(viewToFocus);\n    } else {\n      // Blur event\n      setFocusedView(prevFocusedView => viewToFocus === prevFocusedView ? null : prevFocusedView // If false the blur is due to view switching\n      );\n    }\n\n    onFocusedViewChange == null ? void 0 : onFocusedViewChange(viewToFocus, hasFocus);\n  });\n  return {\n    view,\n    setView: handleChangeView,\n    focusedView,\n    setFocusedView: handleFocusedViewChange,\n    nextView,\n    previousView,\n    defaultView: defaultView.current,\n    goToNextView,\n    setValueAndGoToNextView\n  };\n}","map":{"version":3,"names":["React","useEventCallback","unstable_useControlled","useControlled","warnedOnceNotValidView","useViews","onChange","onViewChange","openTo","view","inView","views","autoFocus","focusedView","inFocusedView","onFocusedViewChange","_views","_views2","process","env","NODE_ENV","includes","console","warn","join","previousOpenTo","useRef","previousViews","defaultView","setView","name","state","controlled","default","current","defaultFocusedView","setFocusedView","useEffect","some","previousView","viewIndex","indexOf","nextView","handleChangeView","newView","goToNextView","setValueAndGoToNextView","value","currentViewSelectionState","isSelectionFinishedOnCurrentView","globalSelectionState","Boolean","handleFocusedViewChange","viewToFocus","hasFocus","prevFocusedView"],"sources":["D:/SE/myreact/node_modules/@mui/x-date-pickers/internals/hooks/useViews.js"],"sourcesContent":["import * as React from 'react';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport { unstable_useControlled as useControlled } from '@mui/utils';\nlet warnedOnceNotValidView = false;\nexport function useViews({\n  onChange,\n  onViewChange,\n  openTo,\n  view: inView,\n  views,\n  autoFocus,\n  focusedView: inFocusedView,\n  onFocusedViewChange\n}) {\n  var _views, _views2;\n  if (process.env.NODE_ENV !== 'production') {\n    if (!warnedOnceNotValidView) {\n      if (inView != null && !views.includes(inView)) {\n        console.warn(`MUI: \\`view=\"${inView}\"\\` is not a valid prop.`, `It must be an element of \\`views=[\"${views.join('\", \"')}\"]\\`.`);\n        warnedOnceNotValidView = true;\n      }\n      if (inView == null && openTo != null && !views.includes(openTo)) {\n        console.warn(`MUI: \\`openTo=\"${openTo}\"\\` is not a valid prop.`, `It must be an element of \\`views=[\"${views.join('\", \"')}\"]\\`.`);\n        warnedOnceNotValidView = true;\n      }\n    }\n  }\n  const previousOpenTo = React.useRef(openTo);\n  const previousViews = React.useRef(views);\n  const defaultView = React.useRef(views.includes(openTo) ? openTo : views[0]);\n  const [view, setView] = useControlled({\n    name: 'useViews',\n    state: 'view',\n    controlled: inView,\n    default: defaultView.current\n  });\n  const defaultFocusedView = React.useRef(autoFocus ? view : null);\n  const [focusedView, setFocusedView] = useControlled({\n    name: 'useViews',\n    state: 'focusedView',\n    controlled: inFocusedView,\n    default: defaultFocusedView.current\n  });\n  React.useEffect(() => {\n    // Update the current view when `openTo` or `views` props change\n    if (previousOpenTo.current && previousOpenTo.current !== openTo || previousViews.current && previousViews.current.some(previousView => !views.includes(previousView))) {\n      setView(views.includes(openTo) ? openTo : views[0]);\n    }\n  }, [openTo, setView, view, views]);\n  const viewIndex = views.indexOf(view);\n  const previousView = (_views = views[viewIndex - 1]) != null ? _views : null;\n  const nextView = (_views2 = views[viewIndex + 1]) != null ? _views2 : null;\n  const handleChangeView = useEventCallback(newView => {\n    setView(newView);\n    if (onViewChange) {\n      onViewChange(newView);\n    }\n  });\n  const goToNextView = useEventCallback(() => {\n    if (nextView) {\n      handleChangeView(nextView);\n    }\n  });\n  const setValueAndGoToNextView = useEventCallback((value, currentViewSelectionState) => {\n    const isSelectionFinishedOnCurrentView = currentViewSelectionState === 'finish';\n    const globalSelectionState = isSelectionFinishedOnCurrentView && Boolean(nextView) ? 'partial' : currentViewSelectionState;\n    onChange(value, globalSelectionState);\n    if (isSelectionFinishedOnCurrentView) {\n      goToNextView();\n    }\n  });\n  const handleFocusedViewChange = useEventCallback((viewToFocus, hasFocus) => {\n    if (hasFocus) {\n      // Focus event\n      setFocusedView(viewToFocus);\n    } else {\n      // Blur event\n      setFocusedView(prevFocusedView => viewToFocus === prevFocusedView ? null : prevFocusedView // If false the blur is due to view switching\n      );\n    }\n\n    onFocusedViewChange == null ? void 0 : onFocusedViewChange(viewToFocus, hasFocus);\n  });\n  return {\n    view,\n    setView: handleChangeView,\n    focusedView,\n    setFocusedView: handleFocusedViewChange,\n    nextView,\n    previousView,\n    defaultView: defaultView.current,\n    goToNextView,\n    setValueAndGoToNextView\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}